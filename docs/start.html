<!DOCTYPE html>
<html>
<head>
    <title>Как начать работу с RequireJS</title>

    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="../main.css">
    <link rel="icon" type="image/x-icon" href="/favicon.png">
    <!--[if IE]> <link rel="stylesheet" type="text/css" href="../ie.css" /> <![endif]-->
    <link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/dojo/1.4/dojox/highlight/resources/highlight.css">

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
    <script type="text/javascript" src="../init.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/dojo/1.4/dojo/dojo.xd.js"></script>
    <script type="text/javascript">
        dojo.require("dojox.highlight");
        dojo.require("dojox.highlight.languages.javascript");
        dojo.require("dojox.highlight.languages.html");
        dojo.ready(function() {
            dojo.query("pre > code")
                .forEach(function(node) {
                    if (node.innerHTML.indexOf("DOCTYPE") !== -1 || node.innerHTML.indexOf('&lt;script') !== -1) {
                        dojo.addClass(node, "html");
                    } else {
                        dojo.addClass(node, "javascript");
                    }
                })
                .forEach(dojox.highlight.init);
        });
    </script>
</head>
<body>
<div id="grid"></div>
<div id="wrapper">

    <div id="navBg"></div>
    <div id="nav" class="mono">
        <a class="homeImageLink" href="../"></a>
        <h1>загрузчик модулей для javascript</h1>

        <div class="alert">Это любительский перевод <a href="http://requirejs.org/">официальной документации</a>. Если Вы хотите помочь с переводом или нашли ошибку - сделайте мир лучше, посетив <a href="https://github.com/TuiKiken/requirejs-russian">страничку проекта на GitHub</a>.</div>
        <div class="alert-space"></div>

        <ul>
            <li class="hbox">
                <a href="../">Домашняя страница</a>
                <span class="spacer boxFlex"></span>
                <span class="icon home"></span>
            </li>
        </ul>

        <ul>
            <li class="hbox">
                <a class="local" href="start.html">Начать изучение</a>
                <span class="spacer boxFlex"></span>
                <span class="icon start"></span>
            </li>
            <li class="hbox">
                <a class="local" href="download.html">Скачать</a>
                <span class="spacer boxFlex"></span>
                <span class="icon download"></span>
            </li>
            <li class="hbox">
                <a class="local" href="api.html">API</a>
                <span class="spacer boxFlex"></span>
                <span class="icon api"></span>
            </li>
            <li class="hbox">
                <a class="local" href="optimization.html">Оптимизация</a>
                <span class="spacer boxFlex"></span>
                <span class="icon optimize"></span>
            </li>
        </ul>

        <ul>
            <li class="hbox">
                <a class="local" href="jquery.html">Использовать с jQuery</a>
                <span class="spacer boxFlex"></span>
                <span class="icon script"></span>
            </li>
            <li class="hbox">
                <a class="local" href="node.html">Использовать с Node</a>
                <span class="spacer boxFlex"></span>
                <span class="icon script"></span>
            </li>
            <li class="hbox">
                <a class="local" href="dojo.html">Использовать с Dojo</a>
                <span class="spacer boxFlex"></span>
                <span class="icon script"></span>
            </li>
            <li class="hbox">
                <a class="local" href="commonjs.html">CommonJS примечания</a>
                <span class="spacer boxFlex"></span>
                <span class="icon script"></span>
            </li>
        </ul>

        <ul>
            <li class="hbox">
                <a class="local" href="faq.html">FAQs</a>
                <span class="spacer boxFlex"></span>
                <span class="icon question"></span>
            </li>
            <li class="hbox">
                <a class="local" href="errors.html">Частые ошибки</a>
                <span class="spacer boxFlex"></span>
                <span class="icon question"></span>
            </li>
            <li class="hbox">
                <a class="local" href="plugins.html">Написание плагинов</a>
                <span class="spacer boxFlex"></span>
                <span class="icon api"></span>
            </li>
        </ul>

        <ul>
            <li class="hbox">
                <a class="local" href="why.html">Почему веб-модули</a>
                <span class="spacer boxFlex"></span>
                <span class="icon question"></span>
            </li>
            <li class="hbox">
                <a class="local" href="whyamd.html">Почему AMD</a>
                <span class="spacer boxFlex"></span>
                <span class="icon question"></span>
            </li>
            <li class="hbox">
                <a class="local" href="requirements.html">Требования</a>
                <span class="spacer boxFlex"></span>
                <span class="icon requirement"></span>
            </li>
            <li class="hbox">
                <a class="local" href="history.html">История</a>
                <span class="spacer boxFlex"></span>
                <span class="icon history"></span>
            </li>
        </ul>

        <ul>
            <li class="hbox">
                <a href="http://groups.google.com/group/requirejs">Попросить помощи</a>
                <span class="spacer boxFlex"></span>
                <span class="icon help"></span>
            </li>
            <li class="hbox">
                <a href="http://jrburke.com/">Блог</a>
                <span class="spacer boxFlex"></span>
                <span class="icon blog"></span>
            </li>
            <li class="hbox">
                <a href="http://twitter.com/jrburke">Twitter</a>
                <span class="spacer boxFlex"></span>
                <span class="icon twitter"></span>
            </li>
        </ul>

        <ul>
            <li class="hbox">
                <a href="http://github.com/jrburke/requirejs">GitHub</a>
                <span class="spacer boxFlex"></span>
                <span class="icon git"></span>
            </li>
            <li class="hbox">
                <a class="local" href="contributing.html">Содействовать</a>
                <span class="spacer boxFlex"></span>
                <span class="icon fork"></span>
            </li>
        </ul>


        <ul>
            <li class="version">Документация для v.2.1.4 (<a href="https://github.com/jrburke/requirejs/wiki/Upgrading-to-RequireJS-2.1">как обновиться до v.2.1</a>)</li>
            <li class="version"><a class="local" href="http://requirejs.org/docs/1.0/">Документация для v.1.0</a></li>
        </ul>

    </div>

    <div id="content"><div id="directory" class="section">
    <h1>Как начать работу с RequireJS</h1>

    <ul class="index mono">
        <li class="hbox">
            <a href="#get">Скачайте RequireJS</a><span class="spacer boxFlex"></span><span class="sect">&sect; 1</span>
        </li>
        <li class="hbox">
            <a href="#add">Добавьте RequireJS</a><span class="spacer boxFlex"></span><span class="sect">&sect; 2</span>
        </li>
        <li class="hbox">
            <a href="#optimize">Оптимизируйте</a><span class="spacer boxFlex"></span><span class="sect">&sect; 3</span>
        </li>
    </ul>

    <span class="note">Примечание: Если вы используете jQuery, то вам пригодится <a href="jquery.html">специальное jQuery руководство</a></span>
</div>

<div class="section">
<h2>
    <a name="get">Скачайте RequireJS</a>
    <span class="sectionMark">&sect; 1</span>
</h2>

<p>Перейдите на страницу <a href="download.html">загрузки</a> и скачайте файл.</p>
</div>

<div class="section">
<h2>
    <a name="add">Добавьте RequireJS</a>
    <span class="sectionMark">&sect; 2</span>
</h2>

<span class="note">Примечание: При использовании совместно с jQuery читайте рекомендации на <a href="jquery.html">странице о интеграции с jQuery</a></span>

<p>Предположим, что ваш проект содержит страницу project.html, а все необходимые JavaScript файлы хранятся в папке "scripts". Структура такого проекта может выглядеть как-нибудь так:</p>

<ul>
    <li>project-directory/
    <ul>
        <li>project.html</li>
        <li>scripts/
        <ul>
            <li>main.js</li>
            <li>helper/
            <ul>
                <li>util.js</li>
            </ul></li>
        </ul></li>
    </ul></li>
</ul>

<p>Добавим require.js в папку со скриптами. Теперь она выглядит так:</p>

<ul>
    <li>project-directory/
    <ul>
        <li>project.html</li>
        <li>scripts/
        <ul>
            <li>main.js</li>
            <li>require.js</li>
            <li>helper/
            <ul>
                <li>util.js</li>
            </ul></li>
        </ul></li>
    </ul></li>
</ul>

<p>Чтобы воспользоваться всеми преимуществами утилиты оптимизации, предположим, что весь скрипт вынесен из HTML в файл, а код содержит только ссылку на require.js, предоставляющую функцию require(), вызов которой загрузит ваш скрипт:</p>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Мой пример проекта&lt;/title&gt;
        &lt;!-- атрибут data-main сообщает require.js, что необходимо загрузить
             scripts/main.js после того, как будет загружен сам require.js --&gt;
        &lt;script data-main="scripts/main" src="scripts/require.js"&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Мой пример проекта&lt;/h1&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>Внутри файла main.js вы можете использовать функцию require() для того, чтобы загрузить любые другие скрипты, которые необходимо выполнить:</p>

<pre><code>require(["helper/util"], function(util) {
    //Эта функция вызовется, когда файл scripts/helper/util.js будет загружен.
    //Если в util.js содержится вызов define(), то эта функция не будет вызвана до тех пор, пока
    //не загрузятся все зависимости util.js указанные в define() и аргумент util не будет содержать
    //значение модуля "helper/util".
});
</code></pre>

<p>Этот код загрузит скрипт helper/util.js. Чтобы узнать все преимущества RequireJS
изучайте <a href="api.html">API документацию</a>, где вы узнаете больше про объявление и использование
модулей.</p>
</div>

<div class="section">
<h2>
    <a name="optimize">Оптимизируйте</a>
    <span class="sectionMark">&sect; 3</span>
</h2>

<p>Когда вы закончите разработку и захотите разместить код для конечных пользователей, вы можете воспльзоваться <a href="optimization.html">оптимизатором</a> для объединения и сжатия JavaScript файлов. В приведённом выше примере, он может объединить main.js и helper/util.js в один файл и ужать его.</p>
</div>
    </div>
    <div id="footer" class="mono">
        <span class="line">Последний релиз: <a href="http://requirejs.org/docs/download.html">2.1.4</a></span>
        <span class="line">Лицензия: <a href="https://github.com/jrburke/requirejs/blob/master/LICENSE">new BSD or MIT licensed</a></span>
        <span class="line">Дизайн сайта: <a href="http://andychung.ca">Andy Chung</a> &copy; 2011</span>
    </div>
</div>
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-12706996-7']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
</body>
</html>
